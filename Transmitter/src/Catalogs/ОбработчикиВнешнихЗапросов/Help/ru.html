<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="gitlab, вебхук, webhook, интеграция, события, push, обработчик" />
<link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link>
<title>Обработчики внешних запросов</title>
</head>
<body>
<h1>Обработчики внешних запросов</h1>
<p>Справочник «Обработчики внешних запросов» предназначен для регистрации репозиториев GitLab, от которых сервис будет принимать и обрабатывать webhook-события.</p>
<p>Для каждого репозитория создаётся отдельный элемент справочника, в котором указывается секретный токен для аутентификации входящих запросов.</p>

<h2>Реквизиты обработчика</h2>
<ul>
	<li><b>Наименование</b> — произвольное имя для идентификации обработчика в системе. Рекомендуется указывать имя проекта или репозитория.</li>
	<li><b>URL</b> — URL проекта в GitLab. Это ключевой реквизит, который используется для привязки обработчика к конкретному репозиторию. Система находит нужный обработчик, сопоставляя URL проекта из тела веб-хука со значением этого поля. Также используется для быстрой навигации к репозиторию из интерфейса 1С.</li>
	<li><b>Токен</b> — секретный ключ (<b>Secret Token</b>), который указывается в настройках веб-хука на стороне GitLab. Этот ключ используется для проверки подлинности входящих запросов.</li>
</ul>
<p><b>Важно:</b> для загрузки файлов из репозитория (схемы маршрутов и самих обработок) система использует <b>Personal Access Token</b>, который задаётся глобально в <a href="CommonForm.НастройкиСервисов/Help">общих настройках сервиса</a>.</p>
 
<h2>Основной функционал</h2>
<p>Форма элемента справочника предоставляет доступ к инструментам для управления и анализа обработки событий, связанных с конкретным репозиторием.</p>
<ul>
	<li><b>Элемент справочника</b>: сам по себе обеспечивает приём, запись и последующую обработку событий GitLab (например, push-событий) в соответствии с указанными в нём параметрами (URL проекта, токен).</li>
	<li><b>История событий</b>: команда «Загрузить историю» открывает журнал событий из журнала регистрации для анализа работы текущего обработчика и общих процессов.</li>
	<li><b>Повторная обработка</b>: команда «Повторить обработку» позволяет вручную запустить повторную обработку выбранного события. Это полезно в случае, если первоначальная обработка завершилась с ошибкой.</li>
	<li><b>Фоновые задания</b>: команда «Фоновые задания» открывает монитор фоновых задач, связанных с этим обработчиком. Здесь можно отслеживать статус доставки файлов получателям.</li>
	<li><b>Тело запроса</b>: команда «Тело запроса» показывает полное тело обрабатываемого HTTP‑запроса в формате JSON, полученного от GitLab.</li>
	<li><b>Маршрутизация</b>: команда «Маршрутизация» (в регистре «Внешние запросы») открывает редактор маршрутов отправки файлов. Подробнее о правилах см. <a href="InformationRegister.ВнешниеЗапросы/Help">справку регистра «Внешние запросы»</a>.</li>
	<li><b>Файлы</b>: команда «Файлы» (в регистре «Внешние файлы») открывает просмотр метаинформации по загруженным из репозитория файлам.</li>
</ul>

</body>
</html>
